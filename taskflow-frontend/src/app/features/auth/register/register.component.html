<div class="row justify-content-center">
	<div class="col-12 col-md-6 col-lg-5">
		<div class="card shadow-sm border-0">
			<div class="card-body p-4">
				<h1 class="h4 text-center mb-4">Crear una cuenta</h1>

				<div *ngIf="errorMessage" class="alert alert-danger" role="alert">
					{{ errorMessage }}
				</div>

				<div *ngIf="successMessage" class="alert alert-success" role="alert">
					{{ successMessage }}
				</div>

				<form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
					<div class="mb-3">
						<label for="name" class="form-label">Nombre completo</label>
						<input
							id="name"
							type="text"
							class="form-control"
							formControlName="name"
							placeholder="Tu nombre"
							[class.is-invalid]="submitted && name.invalid"
						/>
						<div class="invalid-feedback" *ngIf="submitted && name.errors?.['required']">
							El nombre es obligatorio.
						</div>
						<div class="invalid-feedback" *ngIf="submitted && name.errors?.['minlength']">
							El nombre debe tener al menos 3 caracteres.
						</div>
					</div>

					<div class="mb-3">
						<label for="email" class="form-label">Correo electrónico</label>
						<input
							id="email"
							type="email"
							class="form-control"
							formControlName="email"
							placeholder="correo@ejemplo.com"
							[class.is-invalid]="submitted && email.invalid"
						/>
						<div class="invalid-feedback" *ngIf="submitted && email.errors?.['required']">
							El correo es obligatorio.
						</div>
						<div class="invalid-feedback" *ngIf="submitted && email.errors?.['email']">
							Ingresa un correo válido.
						</div>
					</div>

					<div class="mb-4">
						<label for="password" class="form-label">Contraseña</label>
						<input
							id="password"
							type="password"
							class="form-control"
							formControlName="password"
							placeholder="••••••"
							[class.is-invalid]="submitted && password.invalid"
						/>
						<div class="invalid-feedback" *ngIf="submitted && password.errors?.['required']">
							La contraseña es obligatoria.
						</div>
						<div class="invalid-feedback" *ngIf="submitted && password.errors?.['minlength']">
							La contraseña debe tener al menos 6 caracteres.
						</div>
					</div>

					<button type="submit" class="btn btn-primary w-100" [disabled]="isSubmitting">
						<span *ngIf="!isSubmitting">Crear cuenta</span>
						<span *ngIf="isSubmitting" class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
						<span class="visually-hidden" *ngIf="isSubmitting">Cargando...</span>
					</button>
				</form>

				<p class="mt-3 mb-0 text-center text-muted">
					¿Ya tienes cuenta?
					<a routerLink="/login" class="text-decoration-none">Inicia sesión</a>
				</p>
			</div>
		</div>
	</div>
</div>
